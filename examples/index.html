<!DOCTYPE html>
<html lang="en">
<head> 
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TPWP25L2');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--CSS Instructions-->
    <link href="https://jesperastrom.github.io/resources/css/index.css" type="text/css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <title>Web Analytics Demo</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Initialize dataLayer -->
    <script>
        window.dataLayer = window.dataLayer || [];
    </script>
    
    <!-- Analytics Script (load before page content) -->
    <script src="js/analytics.js"></script>

    <style>
      /* Enkel styling fÃ¶r chattbot */
      #chatbot {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 300px;
        max-height: 400px;
        background: white;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        font-family: Arial, sans-serif;
      }
      #chatbot-messages {
        flex: 1;
        padding: 10px;
        overflow-y: auto;
        font-size: 14px;
      }
      #chatbot-input {
        display: flex;
        border-top: 1px solid #ddd;
      }
      #chatbot-input input {
        flex: 1;
        border: none;
        padding: 10px;
        font-size: 14px;
      }
      #chatbot-input button {
        border: none;
        background: #007bff;
        color: white;
        padding: 0 15px;
        cursor: pointer;
      }
    </style>
</head>
<body>
   <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TPWP25L2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <header>
        <!--Breadcrumbs Start-->
        <ul class="breadcrumb">
            <li><a href="#">Home</a></li>
        </ul>
        <!--Breadcrumbs End-->
    </header>
    <main>
        <section id="top" class="content">
            <h1>Demo shop</h1>
        </section>
        <section class="content">
            <p>This page demonstrates how to use the dataLayer for web analytics.</p>
            <p>Open the Console and check the dataLayer as you click the links and buttons below this text.</p>
        </section>
        <nav>
            <ul>
                <li><a href="#" id="home-link">Home</a></li>
                <li><a href="#" id="products-link">Products</a></li>
                <li><a href="#" id="about-link">About</a></li>
                <li><a href="#" id="contact-link">Contact</a></li>
            </ul>
        </nav>
        <section id="hero" class="content">
             <button id="cta-button">Click Me!</button>
        </section>
        
        <section id="products" class="content">
            <h2>Products</h2>
            <div class="product-grid">
                <div class="product" data-product-id="123" data-product-name="Product A" data-product-price="19.99">
                    <h3>Product A</h3>
                    <p>$19.99</p>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
                <div class="product" data-product-id="456" data-product-name="Product B" data-product-price="29.99">
                    <h3>Product B</h3>
                    <p>$29.99</p>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
                <div class="product" data-product-id="789" data-product-name="Product C" data-product-price="39.99">
                    <h3>Product C</h3>
                    <p>$39.99</p>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 Web Analytics Demo</p>
    </footer>

    <!-- Enkel chattbot -->
    <div id="chatbot">
      <div id="chatbot-messages">
        <div><b>Bot:</b> Hej! Jag Ã¤r din chattbot ðŸ¤–. FrÃ¥ga mig om produkter eller priser.</div>
      </div>
      <div id="chatbot-input">
        <input type="text" id="userMessage" placeholder="Skriv ett meddelande...">
        <button onclick="sendMessage()">âž¤</button>
      </div>
    </div>

    <script>
      function sendMessage() {
        const input = document.getElementById("userMessage");
        const message = input.value.trim();
        if (!message) return;
        
        const chatbox = document.getElementById("chatbot-messages");
        chatbox.innerHTML += "<div><b>Du:</b> " + message + "</div>";

        let reply = "Jag fÃ¶rstod inte ðŸ¤”";
        if (message.toLowerCase().includes("hej")) reply = "Hej! Hur kan jag hjÃ¤lpa dig?";
        if (message.toLowerCase().includes("pris")) reply = "Kolla produkterna ovan â€“ de ligger pÃ¥ $19.99, $29.99 och $39.99.";
        if (message.toLowerCase().includes("tack")) reply = "VarsÃ¥god! ðŸ™Œ";

        chatbox.innerHTML += "<div><b>Bot:</b> " + reply + "</div>";
        chatbox.scrollTop = chatbox.scrollHeight;
        input.value = "";
      }
    </script>
</body>
</html>
